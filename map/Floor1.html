<!--
  Floor1.html
  GJ_StampTour

  Created by Js Na on 2023/12/14.
  Copyright © 2023 Js Na, All rights reserved.
-->
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스탬프투어</title>
    <style>
        @import url('/css/font.css');
        @import url('/css/root.css');
        @import url('/css/MapView.css');
    </style>
</head>

<body>
    <svg id="MapView" class="map">
        <g id="복도">
            <rect class="hallway" x="150" y="100" width="50" height="300" />
            <rect class="hallway" x="150" y="400" width="1100" height="50" />
            <rect class="hallway" x="850" y="0" width="50" height="400" />
            <rect class="hallway" x="1200" y="450" width="50" height="400" />
            <polygon class="hallway" points="90,360 130,400 150,400 150,500 130,500 90,540 0,450" />
            <rect class="hallway" x="150" y="450" width="150" height="100" />
            <!--계단-->
            <rect class="hallway" x="1100" y="450" width="50" height="100" />
            <rect class="hallway" x="1100" y="450" width="50" height="100" />
            <rect class="hallway" x="800" y="0" width="50" height="100" />
        </g>
        <g id="교실">
            <g id="이동수업실1" class="classroom">
                <rect x="100" y="0" width="200" height="100" />
                <text x="200" y="50" dy="-0.3em">이동수업실1</text>
                <text x="200" y="50" dy="0.8em" style="font-size: 1em;">(축제예비공간)</text>
            </g>
            <rect class="notClassroom" x="100" y="100" width="50" height="100" />
            <rect class="notClassroom" x="200" y="100" width="100" height="50" />
            <g id="생명과학실" class="classroom">
                <rect x="200" y="150" width="100" height="150" />
                <text x="250" y="225">컴퓨터실</text>
            </g>

            <g id="교실106" class="notClassroom">
                <rect x="300" y="450" width="150" height="100" />
                <text x="375" y="500">행정실</text>
            </g>
            <g id="교실107" class="notClassroom">
                <rect x="450" y="450" width="150" height="100" />
                <text x="525" y="500">교장실</text>
            </g>
            <rect class="notClassroom" x="600" y="450" width="150" height="100" />

            <g id="보건실" class="notClassroom">
                <rect x="750" y="450" width="150" height="100" />
                <text x="825" y="500">보건실</text>
            </g>
            <rect class="notClassroom" x="900" y="450" width="150" height="100" />
            <g id="밴드실" class="notClassroom">
                <rect x="1250" y="400" width="100" height="150" />
                <text x="1300" y="475">밴드실</text>
            </g>
            <rect class="notClassroom" x="1250" y="550" width="100" height="150" />
            <g id="시청각실" class="notClassroom">
                <rect x="1250" y="700" width="100" height="150" />
                <text x="1300" y="775">시청각실</text>
            </g>

            <g id="화장실1" class="notClassroom">
                <rect x="200" y="300" width="100" height="100" />
                <text x="250" y="350">화장실</text>
            </g>
            <g id="화장실2" class="notClassroom">
                <rect x="750" y="300" width="100" height="100" />
                <text x="800" y="350">화장실</text>
            </g>
            <rect class="notClassroom" x="1050" y="450" width="50" height="100" />
            <g id="세담터도서관" class="notClassroom">
                <rect x="900" y="0" width="100" height="400" />
                <text x="950" y="200" dy="-0.3em">세담터</text>
                <text x="950" y="200" dy="0.8em" style="font-size: 1em;">(도서관)</text>
            </g>
            <g id="운동장" class="classroom">
                <rect x="450" y="650" width="650" height="150" />
                <text x="775" y="725">운동장</text>
            </g>
            <g id="농구장" class="classroom">
                <rect x="800" y="800" width="300" height="50" />
                <text x="950" y="825">농구장</text>
            </g>
        </g>
    </svg>
    <script src="/scripts/root.js"></script>
    <script src="https://unpkg.com/panzoom@9.4.3/dist/panzoom.min.js"></script>
    <script>
        function enableMapZoom(mapElement) {
            var cityMinZoom = 0.5;
            if ('ontouchstart' in window || navigator.msMaxTouchPoints) {
                zoom = panzoom(mapElement, {
                    bounds: true,
                    boundsPadding: -0.5,
                    maxZoom: 5,
                    minZoom: cityMinZoom,
                    zoomDoubleClickSpeed: 1,
                    // svg 내부 버튼 처리. circle 바꾸면 될 듯.
                    onTouch: (e) => {
                        const targetElem = e.target;
                        if (targetElem.tagName === "g" || targetElem.tagName === "rect" || targetElem.tagName === "text") {
                            return false;
                        } else {
                            e.preventDefault();
                        }
                    }
                });
            } else {
                zoom = panzoom(mapElement, {
                    bounds: true,
                    boundsPadding: -0.5,
                    maxZoom: 5,
                    minZoom: cityMinZoom,
                    zoomDoubleClickSpeed: 1,
                });
            }
        }
        let MapView = eById("MapView");

        enableMapZoom(MapView);
    </script>
</body>

</html>