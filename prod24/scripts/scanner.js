function eById(e){return document.getElementById(e)}var getJSON=function(e,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="json",t.onload=function(){var e=t.status;n(200===e?null:e,t.response)},t.send()};function setupScanner(){let e={fps:30,rememberLastUsedCamera:!0,formatsToSupport:[Html5QrcodeSupportedFormats.DATA_MATRIX]},n=new Html5Qrcode("reader",e);n.start({facingMode:"environment"},e,(function(e){if(e.startsWith("S")){let t=Number(e.replace("S",""));isNaN(t)||(eById("ScannerImage").src="/images/Scanner_success.png",window.location.href=`/check?s=${sL[t-1].stampId}`,n.pause())}}))}let sL;getJSON("/api/stampList.json",(function(e,n){null!=e?alert("스탬프 목록 데이터를 불러오는 중 오류가 발생했습니다."):null!==n&&(sL=n.stampList,setupScanner())}));